<template>
  <require from="./feedback-modal.css"></require>

  <modal if.bind="showFeedbackModal"
         header-text="Feedback"
         modal-style="top: 10%; height: 80%;"
         content-style="height: unset;"
         body-style="max-height: 80%; overflow: scroll;">
  <template replace-part="modal-body">
    <div>
      What problems did you experience while working with the BPMN Studio?
      <textarea type="text" class="props-input-textarea" aria-multiline="true" value.bind="bugs"></textarea>
    </div>
    <div>
      Do you have any suggestions for improving the BPMN Studio?
      <textarea type="text" class="props-input-textarea" aria-multiline="true" value.bind="suggestions"></textarea>
    </div>
    <div>
      <input type="checkbox" class="feedback-modal__checkbox" checked.bind="attachInternalDatabases"/> Attach the databases of the internal ProcessEngine (if you have a problem with provided diagrams, this is probably helpful).
    </div>
    <div>
      <input type="checkbox" class="feedback-modal__checkbox" checked.bind="showProcessModelSelection"/> Attach diagrams
    </div>
    <div if.bind="showProcessModelSelection">
     <div repeat.for="solution of solutions">
      <div class="feedback-modal__solution-title" click.delegate="toggleSolutionVisiblity(solution.name)">
        <i class="fas" class.bind="showSolutionList[solution.name] ? 'fa-angle-down' : 'fa-angle-right'"></i> <i class.bind="solution.cssIconClass"></i> ${solution.name}
      </div>
      <div show.bind="showSolutionList[solution.name]" repeat.for="diagram of solution.diagrams">
        <input type="checkbox" class="feedback-modal__checkbox" checked.bind="selectedDiagrams[diagram.uri]"/> ${diagram.name}
      </div>
     </div>
     Is additional information required for the attached diagrams?
     <textarea type="text" class="props-input-textarea" aria-multiline="true" value.bind="additionalDiagramInformation"></textarea>
    </div>
  </template>
  <template replace-part="modal-footer">
    <button type="button" class="btn btn-default" data-dismiss="modal" click.delegate="abort()">Cancel</button>
    <button type="button" class="btn btn-primary" data-dismiss="modal" click.delegate="sendFeedback()" disabled.bind="disableSendButton">Send</button>
  </template>
  </modal>
</template>
